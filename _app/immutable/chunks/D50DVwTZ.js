var p=Object.defineProperty;var f=(t,s,o)=>s in t?p(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;var i=(t,s,o)=>f(t,typeof s!="symbol"?s+"":s,o);import{b as d}from"./Ch8GEA1F.js";import{am as l}from"./CcVkWGgp.js";import{l as h,b as w}from"./3jTL0Oy-.js";const T=globalThis.__sveltekit_mfsnv5.env,m=T.PUBLIC_API_BASE_URL||"https://modulabs.ddns.net/growup";class u extends Error{constructor(o,e){super(o);i(this,"status");this.status=e}}async function n(t,s,o){const e=l(w),r={"Content-Type":"application/json"};e&&(r.Authorization=`Bearer ${e}`);const a=await fetch(`${m}${s}`,{method:t,headers:r,body:o?JSON.stringify(o):void 0});if(a.status===401)throw h(),typeof window<"u"&&(window.location.href=`${d}/login`),new u("인증이 만료되었습니다. 다시 로그인해주세요.",401);if(a.status!==204){if(!a.ok){const c=await a.json().catch(()=>({detail:"알 수 없는 오류가 발생했습니다."}));throw new u(c.detail||`HTTP ${a.status}`,a.status)}return a.json()}}const _={get:t=>n("GET",t),post:(t,s)=>n("POST",t,s),put:(t,s)=>n("PUT",t,s),patch:(t,s)=>n("PATCH",t,s),del:t=>n("DELETE",t)};export{u as A,_ as a};
