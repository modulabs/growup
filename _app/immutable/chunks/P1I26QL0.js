var p=Object.defineProperty;var d=(t,o,s)=>o in t?p(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s;var i=(t,o,s)=>d(t,typeof o!="symbol"?o+"":o,s);import{H as f}from"./CchEtKBU.js";import{b as w}from"./CpycODcz.js";import{l as h,b as l}from"./BanGi3_-.js";const T="https://modulabs.ddns.net/growup";class u extends Error{constructor(s,r){super(s);i(this,"status");this.status=r}}async function n(t,o,s){const r=f(l),e={"Content-Type":"application/json"};r&&(e.Authorization=`Bearer ${r}`);const a=await fetch(`${T}${o}`,{method:t,headers:e,body:s?JSON.stringify(s):void 0});if(a.status===401)throw h(),typeof window<"u"&&(window.location.href=`${w}/login`),new u("인증이 만료되었습니다. 다시 로그인해주세요.",401);if(a.status!==204){if(!a.ok){const c=await a.json().catch(()=>({detail:"알 수 없는 오류가 발생했습니다."}));throw new u(c.detail||`HTTP ${a.status}`,a.status)}return a.json()}}const $={get:t=>n("GET",t),post:(t,o)=>n("POST",t,o),put:(t,o)=>n("PUT",t,o),del:t=>n("DELETE",t)};export{u as A,$ as a};
