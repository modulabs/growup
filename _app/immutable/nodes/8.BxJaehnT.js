import{a as l,f as p,c as tt}from"../chunks/_V9dK3ok.js";import{o as He}from"../chunks/1hPTKaIJ.js";import{p as Oe,t as T,a as Ue,e as H,g as t,c as r,r as e,s as a,b as et,h as C,f as J,q as Ct}from"../chunks/CcVkWGgp.js";import{d as Fe,s as o}from"../chunks/Dap9sqf4.js";import{i as h}from"../chunks/BSGnc2-w.js";import{e as rt,i as at}from"../chunks/GjfVCmik.js";import{a as Ke,s as St}from"../chunks/By8uYFO7.js";import{s as st}from"../chunks/DObsSMuQ.js";import{L as Ne,s as Zt}from"../chunks/Crjibkup.js";import{s as We,a as te}from"../chunks/Dn1l8nLM.js";import{p as Ye}from"../chunks/C4hb0PVl.js";import{g as Je}from"../chunks/7PYp5PaH.js";import{b as Ve}from"../chunks/bXS0LPGJ.js";import{a as ee}from"../chunks/BDi6hv8W.js";import{i as Xe,a as Ze}from"../chunks/3jTL0Oy-.js";import{S as re,Q as tr}from"../chunks/DqiXTygU.js";var er=p('<span class="ml-2 bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded-full text-xs"> </span>'),rr=p('<span class="text-xs px-2 py-1 rounded-full bg-green-100 text-green-700">ì œì¶œë¨</span>'),ar=p('<span class="text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-400">ë¯¸ì œì¶œ</span>'),sr=p('<tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4 font-medium text-gray-900"> </td><td class="px-6 py-4"><span class="px-2 py-1 text-xs rounded bg-blue-50 text-blue-700 border border-blue-100"> </span></td><td class="px-6 py-4 text-gray-700 font-medium"> </td><td class="px-6 py-4 text-gray-500"> </td><td> </td><td class="px-6 py-4 text-center"><!></td></tr>'),or=p('<div class="overflow-x-auto"><table class="w-full text-sm min-w-[720px]"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left font-medium text-gray-600">í€˜ìŠ¤íŠ¸</th><th class="px-6 py-3 text-left font-medium text-gray-600">ìœ í˜•</th><th class="px-6 py-3 text-left font-medium text-gray-600">ì œëª©</th><th class="px-6 py-3 text-left font-medium text-gray-600">ë‚ ì§œ</th><th class="px-6 py-3 text-center font-medium text-gray-600">ì ìˆ˜</th><th class="px-6 py-3 text-center font-medium text-gray-600">ìƒíƒœ</th></tr></thead><tbody class="divide-y divide-gray-100"></tbody></table></div>'),lr=p('<div class="text-center py-20 text-gray-500"><p>ë“±ë¡ëœ í€˜ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p></div>'),dr=p('<div class="bg-gray-50 p-4 rounded-lg text-sm text-gray-700 mb-4 border border-gray-100 leading-relaxed"><span class="font-bold text-gray-900 block mb-2">ğŸ’¡ ì´í‰</span> </div>'),ir=p('<tr><td class="px-4 py-3 text-gray-700 font-medium"> </td><td class="px-4 py-3 text-center text-gray-600"> </td><td class="px-4 py-3 text-center text-purple-600 font-medium"> </td><td class="px-4 py-3 text-gray-600 text-xs whitespace-pre-wrap leading-relaxed"> </td></tr>'),vr=p('<div class="p-6"><div class="flex justify-between items-start mb-4"><h4 class="font-bold text-gray-800 text-lg flex items-center gap-2"><span class="w-1.5 h-6 bg-purple-600 rounded-full"></span> </h4> <div class="flex gap-2"><div class="text-center bg-gray-100 px-3 py-1 rounded-lg"><div class="text-xs text-gray-500">Human</div> <div class="font-bold text-gray-700"> </div></div> <div class="text-center bg-purple-100 px-3 py-1 rounded-lg"><div class="text-xs text-purple-600">GPT</div> <div class="font-bold text-purple-700"> </div></div></div></div> <!> <div class="overflow-x-auto border border-gray-100 rounded-lg"><table class="w-full text-sm"><thead class="bg-gray-50"><tr class="text-gray-500 text-xs uppercase"><th class="px-4 py-3 text-left w-1/3">í‰ê°€ í•­ëª©</th><th class="px-4 py-3 text-center w-20">Human</th><th class="px-4 py-3 text-center w-20">GPT</th><th class="px-4 py-3 text-left">í”¼ë“œë°±</th></tr></thead><tbody class="divide-y divide-gray-100"></tbody></table></div></div>'),nr=p('<div class="divide-y divide-gray-100"></div>'),cr=p('<div class="text-center py-20 text-gray-500 bg-gray-50/50"><p class="mb-2">ë£¨ë¸Œë¦­ í‰ê°€ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p> <p class="text-sm text-gray-400">ì•„ì§ í‰ê°€ê°€ ì§„í–‰ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë°ì´í„°ê°€ ì—°ë™ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p></div>'),xr=p('<tr class="hover:bg-amber-50/30 transition-colors"><td class="px-6 py-4 text-gray-800 font-medium"> </td><td class="px-6 py-4 text-gray-600"> </td><td class="px-6 py-4 text-center font-bold text-amber-600"> </td><td class="px-6 py-4 text-gray-500"> </td><td class="px-6 py-4 text-gray-400 text-xs"> </td></tr>'),pr=p('<div class="overflow-x-auto"><table class="w-full text-sm min-w-[720px]"><thead class="bg-amber-50/50"><tr><th class="px-6 py-3 text-left font-medium text-amber-900/60">ì¹´í…Œê³ ë¦¬</th><th class="px-6 py-3 text-left font-medium text-amber-900/60">ìƒì„¸ ì‚¬ìœ </th><th class="px-6 py-3 text-center font-medium text-amber-900/60">ì ìˆ˜</th><th class="px-6 py-3 text-left font-medium text-amber-900/60">ë¶€ì—¬ì</th><th class="px-6 py-3 text-left font-medium text-amber-900/60">ë‚ ì§œ</th></tr></thead><tbody class="divide-y divide-gray-100"></tbody></table></div>'),ur=p('<div class="text-center py-20 text-gray-500"><p>ë¹„ì •ê·œ ì ìˆ˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>'),gr=p('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"><div class="space-y-4"><div class="bg-gradient-to-r from-red-50 to-white rounded-xl border border-red-100 p-6 relative overflow-hidden"><div class="flex justify-between items-end mb-2 relative z-10"><div><h3 class="text-red-800 font-bold text-lg flex items-center gap-2">â¤ï¸ ì„±ì¥ ì˜¨ë„</h3> <p class="text-red-600 text-xs mt-1">ê¾¸ì¤€í•œ ì°¸ì—¬ì™€ ì„±ì·¨ì˜ ê²°ê³¼ì…ë‹ˆë‹¤.</p></div> <span class="text-4xl font-black text-red-600"> </span></div> <div class="w-full bg-red-100 rounded-full h-4 mt-2 relative z-10"><div class="bg-gradient-to-r from-red-400 to-red-600 h-4 rounded-full transition-all duration-1000 shadow-sm"></div></div> <div class="absolute -right-6 -bottom-6 text-red-100 opacity-50"><svg width="120" height="120" viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg></div></div> <div class="bg-gradient-to-r from-orange-50 to-white rounded-xl border border-orange-100 p-6 relative overflow-hidden"><div class="flex justify-between items-end mb-2 relative z-10"><div><h3 class="text-orange-800 font-bold text-lg flex items-center gap-2">ğŸ”¥ ì—´ì • ì˜¨ë„</h3> <p class="text-orange-600 text-xs mt-1">ìµœê·¼ 2ì£¼ê°„ì˜ í™œë™ ì§€í‘œì…ë‹ˆë‹¤.</p></div> <span class="text-4xl font-black text-orange-500"> </span></div> <div class="w-full bg-orange-100 rounded-full h-4 mt-2 relative z-10"><div class="bg-gradient-to-r from-orange-400 to-orange-600 h-4 rounded-full transition-all duration-1000 shadow-sm"></div></div> <div class="absolute -right-6 -bottom-6 text-orange-100 opacity-50"><svg width="120" height="120" viewBox="0 0 24 24" fill="currentColor"><path d="M13.5 10c0-2.21-1.79-4-4-4s-4 1.79-4 4c0 .3.03.6.09.88.07-.02.14-.04.22-.04.83 0 1.5.67 1.5 1.5 0 .83-.67 1.5-1.5 1.5-.26 0-.5-.07-.72-.19-.4.92-.79 2.15-.79 3.35 0 2.76 2.24 5 5 5s5-2.24 5-5c0-2.3-1.63-4.25-3.8-4.82zM15 2c0 5 4 8 4 11 0 4.42-3.58 8-8 8S3 17.42 3 13c0-3 2-5 2-5s.5-.5 1.5 0c1 .5 2 2 2 2s-.5-4 2.5-6 3-2 4-2z"></path></svg></div></div></div> <div class="grid grid-cols-2 gap-4"><div class="bg-white rounded-xl border border-gray-200 p-5 flex flex-col justify-center items-center text-center"><div class="text-gray-500 text-sm font-medium mb-2">í€˜ìŠ¤íŠ¸ ì§„í–‰ë¥ </div> <div class="relative w-24 h-24 flex items-center justify-center"><svg class="w-full h-full transform -rotate-90"><circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="transparent" class="text-gray-100"></circle><circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="transparent" class="text-blue-500 transition-all duration-1000"></circle></svg> <span class="absolute text-xl font-bold text-gray-700"> </span></div> <p class="text-xs text-gray-400 mt-2"> </p></div> <div class="bg-white rounded-xl border border-gray-200 p-5 flex flex-col justify-center items-center text-center"><div class="text-gray-500 text-sm font-medium mb-2">ë£¨ë¸Œë¦­ í‰ê°€</div> <div class="relative w-24 h-24 flex items-center justify-center"><svg class="w-full h-full transform -rotate-90"><circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="transparent" class="text-gray-100"></circle><circle cx="48" cy="48" r="40" stroke="currentColor" stroke-width="8" fill="transparent" stroke-dashoffset="0" class="text-purple-500 transition-all duration-1000"></circle></svg> <span class="absolute text-xl font-bold text-gray-700"> </span></div> <p class="text-xs text-gray-400 mt-2">í‰ê°€ ì™„ë£Œ</p></div> <div class="bg-white rounded-xl border border-gray-200 p-5 flex flex-col justify-center col-span-2"><p class="text-sm text-gray-500 font-medium mb-1">ì´ íšë“ ì ìˆ˜</p> <span class="text-4xl font-bold text-gray-800 mb-1"> </span> <div class="text-xs text-gray-400 flex flex-col gap-1"><span>í€˜ìŠ¤íŠ¸: <span class="text-blue-600 font-medium"> </span></span> <span>ë¹„ì •ê·œ: <span class="text-amber-600 font-medium"> </span></span></div></div></div></div> <div class="bg-white rounded-lg border border-gray-200 overflow-hidden min-h-[500px]"><div class="flex border-b border-gray-200"><button>í€˜ìŠ¤íŠ¸ ì ìˆ˜</button> <button>ë£¨ë¸Œë¦­ í‰ê°€</button> <button>ë¹„ì •ê·œ ì ìˆ˜ <!></button></div> <div class="p-0"><!> <!> <!></div></div>',1),_r=p('<div class="text-center py-12 text-gray-500"><p>ì ìˆ˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div>'),mr=p('<div class="max-w-4xl mx-auto px-3 py-6 sm:px-6"><div class="mb-6"><h1 class="text-2xl font-bold text-gray-800"> </h1></div> <!></div>');function Pr(ae,se){Oe(se,!0);const oe=()=>te(Ze,"$activeCourses",Mt),le=()=>te(Xe,"$isLoggedIn",Mt),[Mt,de]=We();let ot=et(!0),v=et(null),j=et(null),lt=C(()=>Ye.params.courseId),ie=C(()=>{var s;return((s=oe().find(n=>String(n.legacy_course_id)===t(lt)))==null?void 0:s.name)||"ê³¼ì •"}),D=C(()=>{var s;return((s=t(v))==null?void 0:s.scores.length)||0}),V=C(()=>{var s;return((s=t(v))==null?void 0:s.scores.filter(n=>n.is_submitted).length)||0}),ve=C(()=>{var s;return((s=t(j))==null?void 0:s.tasks.length)||0}),ne=C(()=>{var s;return((s=t(j))==null?void 0:s.tasks.reduce((n,g)=>n+g.total_human+g.total_gpt,0))||0}),ce=C(()=>{var s;return((s=t(j))==null?void 0:s.tasks.reduce((n,g)=>n+g.rubric_items.length*2,0))||0}),Lt=C(()=>{if(!t(v)||t(D)===0)return 0;const s=t(V)/t(D)*100;let n=0;t(v).scores.forEach(b=>{const U=re[b.quest_type]||re.main;n+=U.max});const g=t(v).total_quest_score+t(ne),O=n+t(ce),I=O>0?g/O*100:0;return Math.round(s*.6+I*.4)}),Tt=C(()=>{if(!t(v))return 0;const s=new Date,n=new Date(s.getTime()-14*24*60*60*1e3),g=t(v).scores.filter(I=>{const b=new Date(I.quest_date);return b>=n&&b<=s});if(g.length===0)return 36.5;const O=g.filter(I=>I.is_submitted).length;return Math.round(O/g.length*100)}),k=et("quests");He(async()=>{if(!le()){Je(`${Ve}/login`);return}await Promise.all([xe(),pe()])});async function xe(){H(ot,!0);try{H(v,await ee.get(`/api/v1/student/courses/${t(lt)}/scores`),!0)}catch{Ke("ì ìˆ˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.","error")}finally{H(ot,!1)}}async function pe(){try{H(j,await ee.get(`/api/v1/student/courses/${t(lt)}/rubrics`),!0)}catch(s){console.error("Failed to load rubrics:",s)}}function ue(s,n){return n?s===null?"-":String(s):"ë¯¸ì œì¶œ"}function ge(s){return s?"text-gray-900":"text-gray-400 italic"}function _e(s){try{return new Date(s).toLocaleDateString("ko-KR")}catch{return s}}var dt=mr(),it=r(dt),jt=r(it),me=r(jt,!0);e(jt),e(it);var be=a(it,2);{var fe=s=>{Ne(s,{type:"table",lines:5})},ye=s=>{var n=tt(),g=J(n);{var O=b=>{var U=gr(),vt=J(U),nt=r(vt),ct=r(nt),xt=r(ct),Dt=a(r(xt),2),he=r(Dt);e(Dt),e(xt);var It=a(xt,2),we=r(It);e(It),Ct(2),e(ct);var Pt=a(ct,2),pt=r(Pt),zt=a(r(pt),2),ke=r(zt);e(zt),e(pt);var Et=a(pt,2),$e=r(Et);e(Et),Ct(2),e(Pt),e(nt);var Qt=a(nt,2),ut=r(Qt),gt=a(r(ut),2),_t=r(gt),Rt=a(r(_t));St(Rt,"stroke-dasharray",2*Math.PI*40),e(_t);var Bt=a(_t,2),qe=r(Bt);e(Bt),e(gt);var At=a(gt,2),Ce=r(At);e(At),e(ut);var mt=a(ut,2),Gt=a(r(mt),2),bt=r(Gt),Se=a(r(bt));St(Se,"stroke-dasharray",2*Math.PI*40),e(bt);var Ht=a(bt,2),Me=r(Ht);e(Ht),e(Gt),Ct(2),e(mt);var Ot=a(mt,2),ft=a(r(Ot),2),Le=r(ft,!0);e(ft);var Ut=a(ft,2),yt=r(Ut),Ft=a(r(yt)),Te=r(Ft,!0);e(Ft),e(yt);var Kt=a(yt,2),Nt=a(r(Kt)),je=r(Nt);e(Nt),e(Kt),e(Ut),e(Ot),e(Qt),e(vt);var Wt=a(vt,2),ht=r(Wt),wt=r(ht);wt.__click=()=>H(k,"quests");var kt=a(wt,2);kt.__click=()=>H(k,"rubrics");var X=a(kt,2);X.__click=()=>H(k,"bonus");var De=a(r(X));{var Ie=c=>{var _=er(),P=r(_,!0);e(_),T(()=>o(P,t(v).bonus_scores.length)),l(c,_)};h(De,c=>{t(v).bonus_scores.length>0&&c(Ie)})}e(X),e(ht);var Yt=a(ht,2),Jt=r(Yt);{var Pe=c=>{var _=tt(),P=J(_);{var N=d=>{var x=or(),z=r(x),m=a(r(z));rt(m,21,()=>t(v).scores,at,(E,i)=>{var f=sr(),$=r(f),F=r($);e($);var y=a($),Q=r(y),R=r(Q,!0);e(Q),e(y);var S=a(y),M=r(S,!0);e(S);var B=a(S),A=r(B,!0);e(B);var L=a(B),K=r(L,!0);e(L);var Y=a(L),Z=r(Y);{var G=u=>{var q=rr();l(u,q)},w=u=>{var q=ar();l(u,q)};h(Z,u=>{t(i).is_submitted?u(G):u(w,!1)})}e(Y),e(f),T((u,q)=>{o(F,`#${t(i).quest_number??""}`),o(R,tr[t(i).quest_type]||t(i).quest_type),o(M,t(i).title||"-"),o(A,t(i).quest_date),st(L,1,`px-6 py-4 text-center ${u??""}`),o(K,q)},[()=>ge(t(i).is_submitted),()=>ue(t(i).score,t(i).is_submitted)]),l(E,f)}),e(m),e(z),e(x),l(d,x)},W=d=>{var x=lr();l(d,x)};h(P,d=>{t(v).scores.length>0?d(N):d(W,!1)})}l(c,_)};h(Jt,c=>{t(k)==="quests"&&c(Pe)})}var Vt=a(Jt,2);{var ze=c=>{var _=tt(),P=J(_);{var N=d=>{var x=nr();rt(x,21,()=>t(j).tasks,at,(z,m)=>{var E=vr(),i=r(E),f=r(i),$=a(r(f));e(f);var F=a(f,2),y=r(F),Q=a(r(y),2),R=r(Q,!0);e(Q),e(y);var S=a(y,2),M=a(r(S),2),B=r(M,!0);e(M),e(S),e(F),e(i);var A=a(i,2);{var L=G=>{var w=dr(),u=a(r(w));e(w),T(()=>o(u,` ${t(m).overall_feedback??""}`)),l(G,w)};h(A,G=>{t(m).overall_feedback&&G(L)})}var K=a(A,2),Y=r(K),Z=a(r(Y));rt(Z,21,()=>t(m).rubric_items,at,(G,w)=>{var u=ir(),q=r(u),Re=r(q,!0);e(q);var $t=a(q),Be=r($t,!0);e($t);var qt=a($t),Ae=r(qt,!0);e(qt);var Xt=a(qt),Ge=r(Xt,!0);e(Xt),e(u),T(()=>{o(Re,t(w).rubric_metric),o(Be,t(w).human_score??"-"),o(Ae,t(w).gpt_score??"-"),o(Ge,t(w).feedback||"-")}),l(G,u)}),e(Z),e(Y),e(K),e(E),T(()=>{o($,` ${t(m).task_title??""}`),o(R,t(m).total_human),o(B,t(m).total_gpt)}),l(z,E)}),e(x),l(d,x)},W=d=>{var x=cr();l(d,x)};h(P,d=>{t(j)&&t(j).tasks.length>0?d(N):d(W,!1)})}l(c,_)};h(Vt,c=>{t(k)==="rubrics"&&c(ze)})}var Ee=a(Vt,2);{var Qe=c=>{var _=tt(),P=J(_);{var N=d=>{var x=pr(),z=r(x),m=a(r(z));rt(m,21,()=>t(v).bonus_scores,at,(E,i)=>{var f=xr(),$=r(f),F=r($,!0);e($);var y=a($),Q=r(y,!0);e(y);var R=a(y),S=r(R);e(R);var M=a(R),B=r(M,!0);e(M);var A=a(M),L=r(A,!0);e(A),e(f),T(K=>{o(F,t(i).category||"-"),o(Q,t(i).reason||"-"),o(S,`+${t(i).score??""}`),o(B,t(i).given_by_name),o(L,K)},[()=>_e(t(i).given_at)]),l(E,f)}),e(m),e(z),e(x),l(d,x)},W=d=>{var x=ur();l(d,x)};h(P,d=>{t(v).bonus_scores.length>0?d(N):d(W,!1)})}l(c,_)};h(Ee,c=>{t(k)==="bonus"&&c(Qe)})}e(Yt),e(Wt),T(c=>{o(he,`${t(Lt)??""}Â°C`),Zt(we,`width: ${t(Lt)??""}%`),o(ke,`${t(Tt)??""}Â°C`),Zt($e,`width: ${t(Tt)??""}%`),St(Rt,"stroke-dashoffset",2*Math.PI*40*(1-(t(D)>0?t(V)/t(D):0))),o(qe,`${c??""}%`),o(Ce,`${t(V)??""} / ${t(D)??""} ì™„ë£Œ`),o(Me,`${t(ve)??""}ê±´`),o(Le,t(v).total_score),o(Te,t(v).total_quest_score),o(je,`+${t(v).total_bonus_score??""}`),st(wt,1,`px-6 py-4 text-sm font-medium transition-colors border-b-2 ${t(k)==="quests"?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} cursor-pointer`),st(kt,1,`px-6 py-4 text-sm font-medium transition-colors border-b-2 ${t(k)==="rubrics"?"border-purple-600 text-purple-600 bg-purple-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} cursor-pointer`),st(X,1,`px-6 py-4 text-sm font-medium transition-colors border-b-2 ${t(k)==="bonus"?"border-amber-600 text-amber-600 bg-amber-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} cursor-pointer`)},[()=>t(D)>0?Math.round(t(V)/t(D)*100):0]),l(b,U)},I=b=>{var U=_r();l(b,U)};h(g,b=>{t(v)?b(O):b(I,!1)},!0)}l(s,n)};h(be,s=>{t(ot)?s(fe):s(ye,!1)})}e(dt),T(()=>o(me,t(ie))),l(ae,dt),Ue(),de()}Fe(["click"]);export{Pr as component};
